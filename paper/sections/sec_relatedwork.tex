% !TEX root = ../Victorvan Herel2025_Thesis.tex

\chapter{State-of-the-art: OSADL}\label{ch:related-work}

\comment{Victor: This chapter contains a lot of uncurated work, and the order or relevance of everything presented is not yet fixed in place. Here be dragons.}

The Open Source Automation Development Lab (OSADL) is a collaborative project that supports and promotes the use of open-source software, particularly Linux, in industrial and automation environments. OSADL focuses on ensuring that Linux and other open-source software components meet the stringent requirements of industrial applications, including real-time capabilities, legal compliance, and long-term maintenance.

Among the key activities of the OSADL organisation, \textbf{license compliance} is a dedicated subject it examines. OSADL helps member companies ensure their use of open-source software complies with licensing obligations by providing tools and services for legal audits and documentation that go deeper than those listed in Chapter~\ref{ch:background}~\cite{osadl-home}. \\

This aspect of the OSADL organisation is very interesting for this thesis, as it provides this dataset to the public for analysis and automated interaction. We will examine each of the relevant components.

\section{OSADL License Checklists}

The OSADL organization describes this project as follows: "Whenever Open Source software is copied and distributed which typically is permitted by every type of Open Source license, a number of obligations and prohibitions are imposed on the distributor. It is very common for the recipients of such software to recursively redistribute it in such a way that a chain of distributors and recipients is created – all of them having to fulfill the same license obligations. However, for the time being, there is no common understanding of how these obligations are to be fulfilled in detail which regularly leads to misunderstandings, conflicts and sometimes even to court cases.

This project is launched with the goal to generally establish checklists of obligations of commonly used Open Source software that are accepted by distributors and copyright holders and trusted by all members of the distribution chain."~\cite{osadl-license-checklists}

This description is executed by creating license checklists at the request of its members for specific licenses. These checklists provide an overview of all the obligations someone who wishes to use work licensed under it must fulfill, in a standardized way. For this, it uses several building blocks which we describe below. It should be noted that all raw data for each component is publicly available, and downloading this can be automated.

While it is possible that a checklist is formatted in a JSON format, and OSADL publishes a schema to validate against for these objects, we use the text format for explaining its workings in this thesis. \\

It is important to frame the checklists in the scope in which they are provided, quoted directly from the OSADL project page: "The checklists assume a situation where a licensee of Open Source software incorporates such software components into a product - either a physical device with installed software or a software distribution on a storage medium or on the Internet - and needs to establish appropriate processes in order to fulfill the imposed license obligations for legal compliance when conveying the product to customers."~\cite{osadl-license-checklists-scope}

This maps directly to the Full inclusion integration pattern we discussed in Chapter~\ref{ch:introduction}, limiting the use in particular to re-use of code and modification, as well as redistributing the completed result in some way.

\subsection{Checklist language}

Language used for checklists is fixed. It uses only defined terms, which sometimes allow freeform input (for example license names). These language constructs are separated into three main categories:

\begin{itemize}
	\item \textbf{Language elements:} Core elements of language that convey a particular meaning. These elements appear inspired by the language definitions used for RFC documents, as provided in RFC 2119. This inspiration however is not publicly cited on the web page. These elements include, but are not limited to, terms such as YOU MUST, YOU MUST NOT, USE CASE, ... . Notably, the OSADL authors have chosen to make these elements all uppercase to allow them to be distinguished easily.
	\item \textbf{Actions:} These elements are usually verbs, and are usually, but not always, what follows a language element in a provision. A couple of examples include terms such as: Publish, Provide, Add, Append, ... .
	\item \textbf{Terms:} These elements follow usually follow an action in provisions. This is the largest set of defined elements among these categories.
\end{itemize}

In effect, these allow us to write obligations in near-English sentences. For example, everyone understands "YOU MUST Provide License text" to mean just that, the requirement to provide the license's text if you use the covered work. How exactly these statements interact with each other is what we will cover next.

\subsection{Format description}

\subsubsection{Example: The MIT license}

To explain how the format works, we explain this by referring to an example checklist of the MIT license. That is provided verbatim in text form as follows.

\begin{verbatim}
	USE CASE Source code delivery OR Binary delivery
		YOU MUST Provide Copyright notices
		YOU MUST Provide License text
		YOU MUST Provide Warranty disclaimer
\end{verbatim}

We refer back to the MIT license text which was included in Chapter~\ref{ch:introduction}. Let's pick this checklist expression apart by listing all used definitions first, taking them verbatim from the dataset OSADL provides:

\begin{itemize}
	\item \textbf{USE CASE:} Sometimes the license obligations may allow the distributor to freely select between a number of optional use cases; the USE CASE language construct is introduced for this purpose. Several USE CASE language constructs to which the same license conditions apply may be combined using the OR language construct. If a particular USE CASE is mentioned repeatedly, e.g. once along with another USE CASE and once not, the obligations of all USE CASE sections must be fulfilled.
	\item \textbf{YOU MUST:} The YOU MUST language construct specifies an individual license obligation, i.e. what to do, probably among other things, to become license compliant. It may optionally be followed by indented language constructs such as ATTRIBUTE that further describe the license obligation.
	\item \textbf{OR:} When the OR language construct is used between elements of a condition, then the condition already applies, if only one element is fulfilled. When the OR language construct is used between obligations, then it is sufficient to fulfill at least one obligation. Note: The AND language construct is assumed by default between consecutive license obligations and attributes.
	\item \textbf{Provide:} The action to Provide means to make available particular material such as a license text to another natural or legal person. While the action to Forward is restricted to conveying existing material, the action to Provide expands the meaning in the sense that the material may be newly generated as long as it fulfills its purpose.
	\item \textbf{Source code delivery:} Licenses may treat the various aggregate states of deliverable software such as source, intermediate and object code differently. The term Source code delivery denotes a situation where source code is delivered, and no software component is included in the delivery without corresponding source code.
	\item \textbf{Binary delivery:} A software distribution may contain material not in a human-readable programming language, but in binary machine or intermediate code that was generated from the project's source code using a compiler. Some licenses may then impose disclosure obligations that may be fulfilled either by delivering the corresponding source code along with the binary code or by offering to do so at a later date. Irrespective of whether disclosure obligations exist and how they must be fulfilled, when software is delivered at least partly in object form then this is referred to as Binary delivery.
	\item \textbf{Copyright notice:} The Copyright notice indicates the name of the holder of the exclusive usage rights. In its minimal form, it may only contain a name in an obvious context. Usually, however, the name of the holder of the exclusive usage rights is preceded by the word 'Copyright', the © symbol or the letter c in parentheses '(c)', and a number or several numbers that indicate the year when the work was created." If the author is not the holder of the exclusive usage rights, the name of the holder of the exclusive usage rights may be followed by an attribution to the author.
	\item \textbf{License text:} The term License text denotes the unabbreviated original text of a particular license in its original language. It may either be printed on paper or contained in a data file on a medium using an obvious and well-known or an individually defined and specified character encoding.
	\item \textbf{Warranty disclaimer:} The license text may contain a clause or several clauses where the original authors refuse any warranty for malfunction or damages that may occur when using the licensed software. Such section is referred to as Warranty disclaimer.
\end{itemize}

With these definitions provided, we can pick apart the checklist line by line.

\begin{itemize}
	\item \verb*|USE CASE Source code delivery OR Binary delivery|: The subordinate elements of this checklist apply when distributing source code or binary forms of a project which is, in full or in part, subject to the terms of the license this checklist was made for.
	\item \verb*|YOU MUST Provide Copyright notices|: In these use cases, you are required to provide the copyright notice.
	\item \verb*|YOU MUST Provide License text|: You must also provide the unaltered license text.
	\item \verb*|YOU MUST Provide Warranty disclaimer|: And finally, you must provide the warranty disclaimer.
\end{itemize}

Thus, this checklist tells us exactly what we need to do when we want to redistribute work licensed under the MIT license in any code-bound form. Complying with all three requirements is as simple as including the full text of the original license, which includes the copyright notices (first line of the license) and the warranty disclaimer (last paragraph of the license in capitals).

This explanation aligns with our explanation in Chapter~\ref{ch:introduction} about how the MIT license works, and demonstrates how the format works. \\

\subsubsection{Formal definition}

The OSADL project also defines this format formally, where it is split in two sections. The first section of the format is displayed in the example, and contains these checklist items. We call this the primary section.

\comment{Victor: Fix this section. What is the goal?}


\subsection{Detecting license family based on a checklist}

OSADL also provides insight into how to determine the license family of a license. We recall from Chapter~\ref{ch:background} that this thesis considers each license to be part of one of two families: Permissive, or copyleft to any degree.

\comment{Victor: Fix this section as well.}

\begin{verbatim}
	USE CASE Source code delivery
		YOU MUST Provide License text
		YOU MUST NOT Modify Copyright notices
		IF Software modification
			YOU MUST Grant License
				ATTRIBUTE Original license
			YOU MUST Provide Copyright notices
		IF Commercial distribution
			YOU MUST Indemnify Other contributors
	USE CASE Binary delivery
		YOU MUST NOT Modify Copyright notices
		EITHER
			YOU MUST Provide Source code
		OR
			YOU MUST Provide Delayed source code delivery
				ATTRIBUTE Inform Recipient
			EITHER
				ATTRIBUTE Customary medium
			OR
				ATTRIBUTE Via Internet
				ATTRIBUTE Reasonable
		IF License change
			YOU MUST Use Identical License obligations
			YOU MUST Use Warranty disclaimer On behalf of Other contributors
				ATTRIBUTE Effective
			YOU MUST Use Liability disclaimer On behalf of Other contributors
				ATTRIBUTE Effective
			IF Service offerings
				ATTRIBUTE NOT Transferable
		IF Commercial distribution
			YOU MUST Indemnify Other contributors
\end{verbatim}

\subsection{Copyleft table}

OSADL also provides a JSON table that indicates for each license whether or not it has a copyleft clause. This value can be one of the following:

\begin{itemize}
	\item \textbf{Yes:} This indicates the license is part of the Copyleft Strict license family.
	\item \textbf{Yes (restricted):} This also logically implies the license is part of the Copyleft Limited license sub-family. Together with the licenses tagged Yes, this forms the full Copyleft license family.
	\item \textbf{No:} This maps to the permissive license family.
	\item \textbf{Questionable:} This final result implies that OSADL cannot come to a consensus on the presence of a copyleft clause in the license, thus implying that no general consensus exists. At the time of writing, this is assigned to the MS-PL and OpenSSL licenses in the dataset.
\end{itemize}

\subsection{Compatibility matrix}

OSADL also provides a curated matrix of compatibility between licenses, based on their checklists. This matrix is an aggregate product of the data elements and is therefore not new. The way these decisions are made however is not clearly documented.

Before we look into the specifics of this matrix, as it allows us to draw some valuable conclusions already, it is important to recall the scope in which the license checklists, which this matrix was based on, are constructed. This context was given earlier in this chapter.

Important definitions that result from combining two of these licenses in the scope of a compatibility question are the following:
\begin{itemize}
	\item \textbf{Leading license:} This is the license of the project that is the target of the inclusion. Code from the subordinate will end up in the project under this license.
	\item \textbf{Subordinate license:} This is the license that covers the code that is being taken.
\end{itemize}

To conclude, a compatibility result in the compatibility matrix provided by OSADL references a situation where one incorporates a part of the subordinate project into a leading project, and where the licenses of both projects are individual. This is still a case of the full inclusion pattern. \\

A compatibility result is either Yes, No, Unknown or Check Dependency. The first three are clear, but the Check dependency result needs to be clarified. OSADL introduces the concept of depending compatibility which defines that two licences are indeed incompatible, but allow a change to be made to the license configuration to make them compatible. This is to be read explicitly as: The configuration itself is \textbf{incompatible}, but one or both of the licenses allow themselves to be changed out for another license \textbf{explicitly} which does result in a compatible scenario.

\subsubsection{Expressing percentages}

In total, the dataset contains $116$ licenses, which results in $13456$ total combinations. However, we are only interested in $13340$ of these combinations, as $116$ of them are licenses being compared with themselves. These combinations are always compatible, and OSADL reports them as "Same." for this reason.

Looking further, we see that $1020$ of the combinations are listed as "Unknown". This leaves us with $12320$ assessed combinations of which:

\begin{itemize}
	\item $8812$ ($\sim 71.53\%$) are compatible.
	\item $3448$ ($\sim 27.99\%$) are not compatible.
	\item $60$ ($\sim 0.48\%$) fall in the case of depending compatibility.
\end{itemize}

An interesting finding arises when we combine this with the copyleft table, mapping "Yes" and "Yes (restricted)" to Copyleft, and "No" to Permissive. These results are shown below:

\begin{table}[h]
	\caption{OSADL compatibility in a copyleft-oriented view.}
	\label{tab:osadl-compat-numbers}
	\centering
	\begin{tabular}{l|ll}
		\hline
		\textbf{Subordinate \textbackslash Leading} & \textbf{Copyleft} & \textbf{Permissive} \\ \hline
		\textbf{Copyleft} & 812 total, 75 yes, 60 check dependency, 677 no & All 2465 no \\
		\textbf{Permissive} & 1729 total, 1498 yes, 231 no & All 7140 yes \\\hline
	\end{tabular}
\end{table}

This table shows a powerful property: If the leading license is permissive, we only need to know the license family of the subordinate license to be able to assess compatibility. \textbf{We conclude already that the license family is an important license property to automatically determine compatibility as part of the answer to RQ 1.}

Additionally, we see that a Copyleft/Copyleft combination is primarily incompatible, with some edge cases. These are always cases where the license lists licenses it is explicitly compatible with. For example, GPL-1.0-or-later is compatible with all future versions of the license by definition. (But not the other way around! Compatibility is a one-way relationship.)

Lastly, we observe that Copyleft/Permissive combinations are primarily compatible, but a not insignificant portion of combinations are incompatible. \\

To conclude this section, we can now make the powerful claim that if we know the license family a two licenses belong to, we can already answer $\sim 78.67\%$ of combinations, i.e. those where the leading license is permissive.

\section{Inducing the Permissive Leading effect logically}

In this last section, we present a logical argument as to why a permissive leading license allows for direct classification of combinations based on the license family the subordinate license belongs to. To do this, we consider the following definitions by OSADL: \comment{Victor: These need to be moved earlier. Also this needs to be argued about why these are disjoint.}
\begin{enumerate}
	\item \textbf{Compatibility is assumed, if:}
	\begin{itemize}
		\item compatibility with the other license is explicitly ruled in a particular license, or
		\item the two licenses in question both do not contain a copyleft clause, or
		\item the leading license contains a copyleft clause and the other license does not and also does nto impose any obligation that the first license does not allow to impose.
	\end{itemize}
	
	\item \textbf{Incompatibility is assumed, if:}
	\begin{itemize}
		\item incompatibility with another license is explicitly ruled in a particular license, or
		\item one license imposes an obligation that the other license does not allow to impose, or
		\item the two licenses in question both contain a copyleft clause and no license contains an explicit compatibility clause for this license combination.
	\end{itemize}
\end{enumerate}

These definitions already directly indicate why Permissive/Permissive is always compatible, namely it is defined as option 2 of OSADL's definition of compatibility. \\

This only leaves us to clarify why Permissive/Copyleft results in incompatible combinations at all times. To do this, we need to argue that these combinations always meet at least one of the three criteria for incompatibility.

To do this, we first recall what it means for a license to be in the copyleft license family: This means derivative works based on the covered work must be licensed equally in the strict case, or similarly in the limited case.
\begin{itemize}
	\item In the strict case, we land in bullet point two of incompatibility immediately. As we are trying to license the derivative work differently from the subordinate license.
	\item In the limited case, the same bullet point is reached as generally, the conditions under which the copyleft requirement may be waived do not include the full inclusion pattern. Alternatively, if the license is Copyleft Limited because it allows a specific subset of licenses to be used, we observe that these other licenses are also all in the Copyleft family, thus reverting to the base case in this bullet point.
\end{itemize}

As such, it is only logical that attempting to incorporate work licensed under a copyleft license using full inclusion in a work that is licensed under a permissive license creates an incompatible construction.

\chapter{New Ch3}

The Open Source Automation Development Lab (OSADL) is a collaborative project that supports and promotes the use of open-source software, particularly Linux, in industrial and automation environments. OSADL focuses on ensuring that Linux and other open-source software components meet the stringent requirements of industrial applications, including real-time capabilities, legal compliance, and long-term maintenance.

Among these key activities of the OSADL, \textbf{open source license compliance} is a key area it provides support in to its members. It does this in a number of ways that are of great interest for this thesis, with the goal of helping member companies and organizations in complying with obligations imposed by open source licensing and the way it interacts with their work. These tools it develops go a lot deeper than what the projects listed in Chapter~\ref{ch:background} aim to accomplish in certain areas~\cite{osadl-home}.

\section{Open source license checklists}

A first element we examine is the open source license checklists. At the time of writing, the OSADL provides what can be interpreted as a checklist of obligations to comply with when one wishes to interact with a specific license, for a set list of 116 licenses. This checklist has a relatively fixed format, which we will go over shortly before moving on to the next topic. \\

An open source license checklist is essentially formulated as a checklist with items to ensure software license compliance in general cases, using well-defined language elements. A checklist has two sections, an obligations section which describes the obligations imposed by a license and an optional supplements section which contains supplemental information which is sometimes already encoded in the obligations section.

It is important to understand that these checklists are still the result of manual curated work, as they are produced on the basis of requests made by members of the OSADL organization. Especially the supplements section, which often lists things like the presence of a copyleft clause, explicit (in)compatibilities, ... is the result of expert knowledge weighing in on the formulation. \\

The OSADL also makes clear in which context these license checklists are used. On this subject, it says the following: "The checklists assume a situation where a licensee of Open Source software incorporates such software components into a product - either a physical device with installed software or a software distribution on a storage medium or on the Internet - and needs to establish appropriate processes in order to fulfill the imposed license obligations for legal compliance when conveying the product to customers."~\cite{osadl-license-checklists-scope}

To draw a parallel to the integration types discussed in Chapter~\ref{ch:introduction}, this lines up fully with the full inclusion pattern, due to the sentence "... incorporates such software components into a product ...".

\subsection{Example: The MIT license}

To explain how the format works, we explain this by referring to an example checklist of the MIT license, shown below:

\begin{verbatim}
USE CASE Source code delivery OR Binary delivery
  YOU MUST Provide Copyright notices
  YOU MUST Provide License text
  YOU MUST Provide Warranty disclaimer
\end{verbatim}

The MIT license is an example of a license that does not need a supplements section, as it is very simple in scope and application, and does not list any specific interactions with other specific licenses. Still, we can learn some key facts from this about a license checklist's structure.

\begin{itemize}
	\item All obligations listed are "scoped" in one or more use cases, preceeded with the \texttt{USE CASE} statement. We will discuss the different use cases in a separate section.
	\item Obligations can be very specific in what they impose. In Chapter~\ref{ch:introduction}, we showed the text form of the license. Here we see that this license is split up into the copyright notice (the first line), the license text (lowercase paragraph) and the license disclaimer (uppercase paragraph). Each element is handled separately (though identically) in the license checklist.
\end{itemize}

It should also be noted that the OSADL does define each of the terms it uses (with some exceptions in the case of license names, ...). For example, the following definitions exist quoted directly from the OSADL data:

\begin{itemize}
	\item \textbf{USE CASE:} Sometimes the license obligations may allow the distributor to freely select between a number of optional use cases; the USE CASE language construct is introduced for this purpose. Several USE CASE language constructs to which the same license conditions apply may be combined using the OR language construct. If a particular USE CASE is mentioned repeatedly, e.g. once along with another USE CASE and once not, the obligations of all USE CASE sections must be fulfilled.
	\item \textbf{YOU MUST:} The YOU MUST language construct specifies an individual license obligation, i.e. what to do, probably among other things, to become license compliant. It may optionally be followed by indented language constructs such as ATTRIBUTE that further describe the license obligation.
	\item \textbf{Provide:} The action to Provide means to make available particular material such as a license text to another natural or legal person. While the action to Forward is restricted to conveying existing material, the action to Provide expands the meaning in the sense that the material may be newly generated as long as it fulfills its purpose.
	\item \textbf{Source code delivery:} Licenses may treat the various aggregate states of deliverable software such as source, intermediate and object code differently. The term Source code delivery denotes a situation where source code is delivered, and no software component is included in the delivery without corresponding source code.
	\item \textbf{Binary delivery:} A software distribution may contain material not in a human-readable programming language, but in binary machine or intermediate code that was generated from the project's source code using a compiler. Some licenses may then impose disclosure obligations that may be fulfilled either by delivering the corresponding source code along with the binary code or by offering to do so at a later date. Irrespective of whether disclosure obligations exist and how they must be fulfilled, when software is delivered at least partly in object form then this is referred to as Binary delivery.
	\item \textbf{Copyright notice:} The Copyright notice indicates the name of the holder of the exclusive usage rights. In its minimal form, it may only contain a name in an obvious context. Usually, however, the name of the holder of the exclusive usage rights is preceded by the word 'Copyright', the © symbol or the letter c in parentheses '(c)', and a number or several numbers that indicate the year when the work was created." If the author is not the holder of the exclusive usage rights, the name of the holder of the exclusive usage rights may be followed by an attribution to the author.
	\item \textbf{License text:} The term License text denotes the unabbreviated original text of a particular license in its original language. It may either be printed on paper or contained in a data file on a medium using an obvious and well-known or an individually defined and specified character encoding.
	\item \textbf{Warranty disclaimer:} The license text may contain a clause or several clauses where the original authors refuse any warranty for malfunction or damages that may occur when using the licensed software. Such section is referred to as Warranty disclaimer.
\end{itemize}

In these definitions, we see the three separated elements from the MIT license returning as defined constructs which are defined generally, and thus also applicable to other license models.

\subsection{Detecting copyleft clauses based on a license checklist}\label{sec:detect-copyleft-from-license-checklist}

An interesting property of these license checklists is that, while always explicitly mentioned in the supplements section, a copyleft property can also be inferred through the obligations section. We show this property with an example, namely the GPL-1.0-only license.

\comment{Victor: See if there's a better way to lay this out.}

\begin{verbatim}
USE CASE Source code delivery
    YOU MUST Provide Copyright notices
        ATTRIBUTE Highlighted
        ATTRIBUTE Appropriately
    YOU MUST Provide Warranty disclaimer (Warranty disclaimer)
        ATTRIBUTE Highlighted
        ATTRIBUTE Appropriately
    YOU MUST NOT Modify License notices
    YOU MUST NOT Modify Warranty disclaimer (Warranty disclaimer)
    YOU MUST Provide License text
    IF Software modification
        YOU MUST Grant License
            ATTRIBUTE Original license
        YOU MUST Provide Modification notice
        YOU MUST Provide Modification date
        IF Interactive
            YOU MUST Display License announcement
            YOU MUST Display Copyright notices
            YOU MUST Display Warranty disclaimer
            YOU MUST Reference License text
    YOU MUST NOT Restrict Granted rights
USE CASE Binary delivery
    YOU MUST Provide Copyright notices
        ATTRIBUTE Highlighted
        ATTRIBUTE Appropriately
    YOU MUST Provide Warranty disclaimer (Warranty disclaimer)
        ATTRIBUTE Highlighted
        ATTRIBUTE Appropriately
    YOU MUST NOT Modify License notices
    YOU MUST NOT Modify Warranty disclaimer (Warranty disclaimer)
    YOU MUST Provide License text
    EITHER
        YOU MUST Provide Source code
            ATTRIBUTE Machine-readable
    OR
        YOU MUST Provide Written offer (Written offer)
            ATTRIBUTE Duration 3 years
            ATTRIBUTE To Any third party
            ATTRIBUTE No profit
            ATTRIBUTE Delayed source code delivery
                ATTRIBUTE Machine-readable
    IF Software modification
        YOU MUST Grant License
            ATTRIBUTE Original license
        YOU MUST Provide Modification notice
        YOU MUST Provide Modification date
        IF Interactive
            YOU MUST Display License announcement
            YOU MUST Display Copyright notices
            YOU MUST Display Warranty disclaimer
            YOU MUST Reference License text
    YOU MUST NOT Restrict Granted rights
(... 73 license compatibility/incompatibility statements ...)
COPYLEFT CLAUSE Yes
\end{verbatim}

In this example, the supplement (represented by the last two lines) mentions correctly that a copyleft clause is indeed present. However, we see this requirement returning in the obligations section, namely in the following lines:

\begin{verbatim}
USE CASE Source code delivery
    ...
    IF Software modification
        YOU MUST Grant License
            ATTRIBUTE Original license
    ...
USE CASE Binary delivery
    EITHER
        YOU MUST Provide Source code
            ATTRIBUTE Machine-readable
    OR
        YOU MUST Provide Written offer (Written offer)
            ATTRIBUTE Duration 3 years
            ATTRIBUTE To Any third party
            ATTRIBUTE No profit
            ATTRIBUTE Delayed source code delivery
                ATTRIBUTE Machine-readable
    IF Software modification
        YOU MUST Grant License
            ATTRIBUTE Original license
        ...
\end{verbatim}

When summarized like this, we see a strict copyleft requirement emerging. Namely, in both delivery use cases, you are required to grant your changes under the original license (\textbf{but not the original copyright notices}). Even more so, in Binary delivery, you are also obligated to provide source code, either immediately or in the form of a written offer valid for 3 years. This last obligation forces you into the Source code delivery use case in both cases, where the copyleft requirement for the source code also holds.

Logically, to comply with the obligations in this checklist which represent the license itself, regardless of what you do, you must provide your derivative work in source code form and optionally binary form under the same license. (But again, not the original copyright notices.)

\section{Notable use cases}

Before we continue with other ground truth data sources the OSADL provides, we take a moment to consider the other noteworthy use cases the OSADL defines and uses in their license checklists. For clarity, these are the "arguments" to a USE CASE statement in the checklist.

First, we recall that we already identified what "Source code delivery" and "Binary delivery" means. With this in mind, the following terms of interest remain:

\begin{itemize}
	\item \textbf{X delivery Of Combined library:} The OSADL defines a Combined library as follows: "If two or more libraries are copied into a single library that offers the functionality of the library components all together, but without applying any modifications to them, then the resulting library is referred to as a Combined library."
	
	As a result, delivery (both binary and source code) of such a work fall under this work, and are used in the LGPL-family of licenses. This family is a non-strict copyleft license, and as such mentions libraries explicitly.
	
	\item \textbf{X delivery of Combined work:} Likewise, the OSADL provides the following definition for the term Combined work: "A Combined work is created when a work consists of two or more originally separated components that are combined in such a way that they form a new work no longer allowing them to operate independently."
	
	This has a similar implication, but is more general on one hand, not limiting itself to libraries, but also more specific in the sense that the work must not be able to be separated as a result. Regrettably, which functions are used as a benchmark to determine this treshold of functionality is left rather vague. We see this use case also used by the LGPL family of licenses.
	
	\item \textbf{Combined work delivery:} The Sleepycat license is the only license to use this use case, and it does so to enforce the copyleft property on what the OSADL defines as a Combined work (see the bullet point above). In this use case, one is required to either include the source code in the combined work, or to provide delayed source code delivery of combined work for no profit, similarly to the GPL-1.0-only example previously handled. Note however that this license does not define a time window in which this delayed delivery must be performed. We will return to the Sleepycat license later, as it appears to be a difficult license to work with in particular.
	
	\item \textbf{Binary delivery of Linked work:} The OSADL defines a Linked work as: "A work may be linked to another work at compile time or at run time in which case the other work is referred to as Linked work."
	
	Examples of this arise in any programming language when one uses a library in their code without including the library itself as a baked-in option. (For example, \texttt{requirements.txt} for Python, module imports for Go, classpath linking for Java using Maven or Gradle, or any other pattern in which the dependencies of a project are described in a declarative way, based on which automated tooling can independently retrieve the library files needed itself.) The \textbf{library} is the linked work.
	
	This has a variant, namely \textbf{Binary delivery of Linked work With Header files OF Library Included In Linked work}. \comment{Victor: What in the world does this mean? The linked work IS the library. It includes its own header files?}
	
	Once again, the LGPL family uses these terms explicitly. It is also used by the Artistic-2.0 license.
	
	\item \textbf{Font, Image, Work, ... delivery:} The delivery word can be used with a number of various other terms, indicating that the license in question covers this "type" of work separately.
	
	These terms are used by more general licenses that don't specifically cover code, like the CC family of licenses. However, we also see these elements appearing in the Bitstream-Vera and the OFL-1.1 license.
	
	As the term "Work" is very general, we call out its OSADL definition explicitly to clarify it: "Copyright law specifies a Work as any artifact that was created by a human being, can be perceived by a human being and possesses individual characteristics that are attributable to a human being. In the context of software licensing, the term Work is used to denote a collection of software components that are conveyed as a whole under the same license or, if compatible, under the same group of applicable licenses."
	
	\item \textbf{Network service:} This does not constitute delivery in the traditional sense, rather, the OSADL defines it as follows: "The term Network service is used to describe a situation when a provider does not convey a software application in binary form to a customer, but installs it on a network-capable computer and let customers use the application by communicating with it via a network link."
	
	This use case is outlined explicitly by the AGPL family of licenses, which is known for specifically differing from the GPL family of licenses because it covers the "network service loophole". This use case is also explicitly covered by the AFL-3.0 and the OFL-3.0. It should be noted that this use case is generally understood not to be covered by any variation of the term "Derivative work" in copyright law, as one is using the work themselves and in doing so, is providing a different service to the end users.
\end{itemize}

\section{Copyleft table}

Aside from the now examined license compliance checklists, the OSADL makes available a distilled source of information. Namely, a table that lists the copyleft status of each of the licenses in the raw data. It should be noted that while the licenses themselves list the copyleft property in their license checklist supplements, this table is actually more specific.

This is because this table goes deeper than a yes/no answer. Namely, it lists the following possibilities:

\begin{itemize}
	\item \textbf{No:} Licenses with this classification are permissive.
	\item \textbf{Yes:} Licenses with this classification are Strict Copyleft family.
	\item \textbf{Yes (restricted):} Licenses with this classification are in the Copyleft Limited family.
	\item \textbf{Questionable:} This classification is used for two licenses, namely the MS-PL and OpenSSL licenses. We examine the license checklist of each of these separately, using the process outlined in Heading~\ref{sec:detect-copyleft-from-license-checklist} to classify these licenses ourselves.
	
	\comment{Victor: Fill this in.}
\end{itemize}

\section{Compatibility matrix}

Based on these license checklists, we can consider a situation in which two license checklists are checked against eachother, one in a leading position and the other in a subordinate context. This context is derived from the context of an individual license checklist. Recall, that a license checklist itself is made in the context of the licensed work being included in another work, without specifying what the other work is licensed under.

In this section, we examine the situation that occurs when we do know what the including work is licensed as. In this sense, we define the leading license as the license that governs the including work. The work that is being included, in part or in full, is governed under the subordinate license. \\

This construction is a construction that the OSADL has already examined for a lot of the licenses it covers. It provides the raw data of these experiments, which are still the result of human curation, as a matrix which we can examine. In this matrix, we have the following types of results:

\begin{itemize}
	\item \textbf{Yes:} This result indicates that the obligations imposed by both licenses do not conflict. However, the combined work still must abide by both licenses' obligations. As such, this compatibility is only theoretical, not practical.
	\item \textbf{No:} This result indicates incompatibility. This means there is some obligation combination that causes problems when applied.
	
	As we will see, the copyleft property of a license is an important thing to know here. For instance, if the leading license is permissive, and the subordinate license is copyleft in any way, then by definition the combination cannot be compatible. This is because the combination would become a derivative work of the copyleft licensed work, thus requiring it as a whole to be similarly licensed.
	\item \textbf{Check dependency:} A third option is what the OSADL defines as Depending compatibility. This is a combination of two licenses in the context previously discussed, which in the definition of the two participating licenses is incompatible. However, either one of the licenses allows it to be replaced at any time with another license it specifies, usually a newer version of the same license, which does make the combination compatible. These cases are rare, and are flagged separately. As an example, an LGPL license can generally be upgraded into its GPL variant, dropping the special provisions surrounding linking. LGPL licenses are not compatible with GPL licenses, but naturally GPL licenses are compatible with themselves.
	
	\item \textbf{Unknown:} Not all license combinations were evaluated by the OSADL. In this case, the field is listed as this value.
\end{itemize}

\subsection{Identifying clusters of interest}

Given the ground truth information in this compatibility matrix, it is useful to examine which information we need to correctly classify most of license combinations within it. This will in turn allow us to perform automated querying for licenses in a smart way, without having to resort to the infeasible per-combination query behavior. By means of a spreadsheet which we add specific columns to, we can attempt to identify useful classes of interest.

If we make this spreadsheet with one row for each combination, and add two columns indicating the OSADL-provided copyleft license table entry for the leading and the subordinate license, we can already make some important distinctions:

\begin{enumerate}
	\item \textbf{Permissive-X} (9775 / 13340)\textbf{:} When the leading license is permissive (= No in the copyleft table), it is immediately obvious that we can produce an accurate decision if we know the copyleft state of the subordinate license. Namely, if it is permissive, the combination is always compatible. If it is any form of copyleft, it is always incompatible. If the subordinate license is classed as Questionable, the result is unfortunately always unknown. Aside from this, this class does not have any Unknown classifications.
	
	In numbers, we see this class containing the following results:
	
	\begin{table}[h]
		\caption{Table for Permissive-X compatibility class}
		\label{tab:permissive-x-table}
		\centering
		\begin{tabular}{|cc|cc|c|}
			\hline
			\multicolumn{2}{|c|}{\textbf{Permissive-Permissive}} & \multicolumn{2}{|c|}{\textbf{Permissive-CopyleftAny}} & \textbf{Permissive-Questionable} \\
			Yes & Unknown & No & Unknown & Unknown \\
			7140 & 0 & 2465 & 0 & 170 \\\hline
			\multicolumn{5}{|c|}{9775 total combinations (out of 13340 $\sim$ 73.276\%)} \\
			\hline
		\end{tabular}
	\end{table}
	
	\item \textbf{CopyleftAny-Permissive} (2465 / 13340)\textbf{:} When the leading license is copyleft, and the subordinate license is permissive, generally, we expect the combination to be compatible unless there is some specific cause for it not to be. This is because permissive licenses are generally permissive in how the work covered under them are used, and thus any conflicts should arise from the copyleft leading license disallowing something that the permissive license still requires in terms of material reproduction. This is supported by the number of records in each category, provided as follows:
	
	\begin{table}[h]
		\caption{Table for Copyleft-Permissive compatibility class}
		\label{tab:copyleft-permissive-table}
		\centering
		\begin{tabular}{|c|c|c|}
			\hline
			\multicolumn{3}{|c|}{\textbf{CopyleftAny-Permissive}} \\
			Yes & No & Unknown \\
			1498 ($\sim$ 60.993\%) & 231 ($\sim$ 9.493\%) & 736 ($\sim$ 29.858\%) \\\hline
			\multicolumn{3}{|c|}{2465 total combinations (out of 13340 $\sim$ 18.2478\%)} \\
			\hline
		\end{tabular}
	\end{table}
	
	\item \textbf{CopyleftAny-CopyleftAny} (812 / 13340)\textbf{:} Y/N/CheckDep
	
	\item \textbf{CopyleftAny-Questionable} (58 / 13340)\textbf{:} Unknown/N
\end{enumerate}